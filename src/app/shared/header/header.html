<header class="app-header">
  <!-- Logo + t铆tulo -->
  <a [routerLink]="['/panel']" class="header-brand" routerLinkActive="header-brand-active">
    <img [src]="logoUrl" alt="RAC-CDCE Logo" class="app-logo">
    <span class="app-title">CDCE M茅rida</span>
  </a>

  <!-- Informaci贸n del usuario -->
  <span *ngIf="isAuthenticated() && currentUser" class="user-info-display user-info-responsive">
    <span class="user-name font-user">
      Usuario conectado: <strong>{{ currentUser.nombre }} {{ currentUser.apellido }}</strong>
    </span>
    <span class="user-role-chip font-user" title="Tu rol actual en el sistema">
      {{ getRoleNameById(currentUser.cod_rol) }}
    </span>
  </span>

  <!-- Espaciador -->
  <span class="spacer"></span>

  <!-- Botones de navegaci贸n -->
  <div class="header-right header-nav-buttons">
    <!-- Si NO est谩 autenticado -->
    <ng-container *ngIf="!isAuthenticated()">
      <button class="header-button" (click)="goToLogin()" [routerLink]="['/login']" routerLinkActive="active-link">
        Iniciar Sesi贸n
      </button>
      <button class="header-button header-register-button" (click)="goToRegister()" [routerLink]="['/registro']" routerLinkActive="active-link">
        Registrarse
      </button>
    </ng-container>

    <!-- Si est谩 autenticado -->
    <ng-container *ngIf="isAuthenticated()">
      <button class="header-button" [routerLink]="['/panel']" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}">
        Panel principal
      </button>
      <button class="header-button" [routerLink]="['/panel/control']" *ngIf="canAccessControl()" routerLinkActive="active-link">
        Control
      </button>
      <button class="header-button" [routerLink]="['/panel/control/db']" *ngIf="canAccessDbMenu()" routerLinkActive="active-link">
        Men煤 BD
      </button>
      <button class="header-button header-logout-button" (click)="logout()" title="Cerrar sesi贸n">
         Cerrar sesi贸n
      </button>
    </ng-container>
  </div>
</header>
